From d6f71f950b1e7be3046145873bfead1af8667818 Mon Sep 17 00:00:00 2001
From: bkardos <bkardos70@gmail.com>
Date: Wed, 2 Feb 2022 14:46:03 +0100
Subject: [PATCH] VGA, SOL fixed

---
 arch/arm/boot/dts/aspeed-ast2500-congax7.dts | 27 +++++++++++++++++++-
 1 file changed, 26 insertions(+), 1 deletion(-)

diff --git a/arch/arm/boot/dts/aspeed-ast2500-congax7.dts b/arch/arm/boot/dts/aspeed-ast2500-congax7.dts
index 8bec21ed0de5..71839969e9cc 100644
--- a/arch/arm/boot/dts/aspeed-ast2500-congax7.dts
+++ b/arch/arm/boot/dts/aspeed-ast2500-congax7.dts
@@ -25,8 +25,13 @@
 		#size-cells = <1>;
 		ranges;
 
+		vga_memory: framebuffer@9c000000 {
+			no-map;
+			reg = <0x9c000000 0x04000000>;	/* 64M */
+		};
+
 		gfx_memory: framebuffer {
-			size = <0x01000000>;
+			size = <0x04000000>;
 			alignment = <0x01000000>;
 			compatible = "shared-dma-pool";
 			reusable;
@@ -59,6 +64,21 @@
 	status = "okay";
 };
 
+&uart1 {
+	/* X44 RS-232 connector */
+	status = "okay";
+
+	pinctrl-names = "default";
+	pinctrl-0 = <&pinctrl_txd1_default
+			&pinctrl_rxd1_default
+			&pinctrl_nrts1_default
+			&pinctrl_ndtr1_default
+			&pinctrl_ndsr1_default
+			&pinctrl_ncts1_default
+			&pinctrl_ndcd1_default
+			&pinctrl_nri1_default>;
+};
+
 &uart5 {
 	status = "okay";
 };
@@ -117,6 +137,11 @@
 	status = "okay";
 };
 
+&video {
+	status = "okay";
+	memory-region = <&vga_memory>;
+};
+
 &ehci1 {
 	status = "okay";
 };
-- 
2.20.1

